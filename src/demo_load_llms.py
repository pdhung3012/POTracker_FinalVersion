from demo_util import *

str_input='''{'key': 'county', 'name': 'COLUMBIANA', 'cust_a': {'val': 0}, 'cust_s': 31173, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-81.08735973899996, 40.64008686100004, -80.51918243699998, 40.92996444500005]}, 'areas': [{'key': 'Township', 'name': 'FAIRFIELD TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1510, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.74645017299997, 40.81307330800007, -80.63185454499995, 40.90050880700005]}, 'areaId': 'OE|COLUMBIANA|OHIO|FAIRFIELD TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 280}, {'key': 'Township', 'name': 'HANOVERTON', 'cust_a': {'val': 0}, 'cust_s': 398, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.94330957499994, 40.74869430000007, -80.92718545399998, 40.76049196200006]}, 'areaId': 'OE|COLUMBIANA|OHIO|HANOVERTON|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 281}, {'key': 'Township', 'name': 'FRANKLIN TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 65, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.91818973299996, 40.642263822000075, -80.84097426999995, 40.72677272000004]}, 'areaId': 'OE|COLUMBIANA|OHIO|FRANKLIN TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 282}, {'key': 'Township', 'name': 'EAST PALESTINE', 'cust_a': {'val': 0}, 'cust_s': 2414, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.57565054099996, 40.817540361000056, -80.52383297299997, 40.86354183700007]}, 'areaId': 'OE|COLUMBIANA|OHIO|EAST PALESTINE|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 283}, {'key': 'Township', 'name': 'BUTLER TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1548, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.97489668999998, 40.813283297000055, -80.85711147699999, 40.90131448400007]}, 'areaId': 'OE|COLUMBIANA|OHIO|BUTLER TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 284}, {'key': 'Township', 'name': 'LEETONIA', 'cust_a': {'val': 0}, 'cust_s': 1012, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.78367653199996, 40.86633621000004, -80.74162228999995, 40.88614348500005]}, 'areaId': 'OE|COLUMBIANA|OHIO|LEETONIA|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 285}, {'key': 'Township', 'name': 'SALEM TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1368, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.85841991299998, 40.81330775400005, -80.74588667299997, 40.90087289600007]}, 'areaId': 'OE|COLUMBIANA|OHIO|SALEM TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 286}, {'key': 'Township', 'name': 'NEW WATERFORD', 'cust_a': {'val': 0}, 'cust_s': 679, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.63207432899998, 40.84098827200006, -80.60872873099999, 40.85642188400004]}, 'areaId': 'OE|COLUMBIANA|OHIO|NEW WATERFORD|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 287}, {'key': 'Township', 'name': 'UNITY TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1582, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.63206071099995, 40.81284765800007, -80.51918243699998, 40.90026858500005]}, 'areaId': 'OE|COLUMBIANA|OHIO|UNITY TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 288}, {'key': 'Township', 'name': 'HANOVER TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1621, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.97512292899995, 40.72656377700008, -80.85843166599994, 40.81379147700005]}, 'areaId': 'OE|COLUMBIANA|OHIO|HANOVER TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 289}, {'key': 'Township', 'name': 'PERRY TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 2292, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.89624815399998, 40.87113239800004, -80.82007089199999, 40.92996444500005]}, 'areaId': 'OE|COLUMBIANA|OHIO|PERRY TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 290}, {'key': 'Township', 'name': 'KNOX TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 2156, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-81.08708799999994, 40.81379147700005, -80.97479401199996, 40.90159919900003]}, 'areaId': 'OE|COLUMBIANA|OHIO|KNOX TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 291}, {'key': 'Township', 'name': 'ROGERS', 'cust_a': {'val': 0}, 'cust_s': 216, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.63205401499994, 40.786015649000035, -80.62281272799999, 40.79402747600005]}, 'areaId': 'OE|COLUMBIANA|OHIO|ROGERS|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 292}, {'key': 'Township', 'name': 'WAYNE TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 135, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.84183534499994, 40.65393350000005, -80.74646940299994, 40.726647557000035]}, 'areaId': 'OE|COLUMBIANA|OHIO|WAYNE TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 293}, {'key': 'Township', 'name': 'WEST TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1465, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-81.08735973899996, 40.726902245000076, -80.97479401199996, 40.81383704500007]}, 'areaId': 'OE|COLUMBIANA|OHIO|WEST TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 294}, {'key': 'Township', 'name': 'SALEM', 'cust_a': {'val': 0}, 'cust_s': 6567, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.89007984299997, 40.87885881200003, -80.81068258599998, 40.92552881100005]}, 'areaId': 'OE|COLUMBIANA|OHIO|SALEM|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 295}, {'key': 'Township', 'name': 'MADISON TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 122, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.74691419899995, 40.64008686100004, -80.63195197499994, 40.72690387200004]}, 'areaId': 'OE|COLUMBIANA|OHIO|MADISON TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 296}, {'key': 'Township', 'name': 'SAINT CLAIR TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 41, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.63198340999998, 40.65409208700004, -80.51924447799996, 40.72690387200004]}, 'areaId': 'OE|COLUMBIANA|OHIO|SAINT CLAIR TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 297}, {'key': 'Township', 'name': 'LISBON', 'cust_a': {'val': 0}, 'cust_s': 1887, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.78191361399996, 40.76431096400006, -80.73098735599996, 40.78852464000005]}, 'areaId': 'OE|COLUMBIANA|OHIO|LISBON|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 298}, {'key': 'Township', 'name': 'CENTER TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1445, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.85977167399994, 40.72648728400003, -80.74645017299997, 40.813893259000054]}, 'areaId': 'OE|COLUMBIANA|OHIO|CENTER TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 299}, {'key': 'Township', 'name': 'MIDDLETON TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 1458, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.63197825599997, 40.72593986900006, -80.51927849799995, 40.81307330800007]}, 'areaId': 'OE|COLUMBIANA|OHIO|MIDDLETON TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 300}, {'key': 'Township', 'name': 'WASHINGTONVILLE', 'cust_a': {'val': 0}, 'cust_s': 174, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.77852248299996, 40.88610664500004, -80.75782493599996, 40.902747601000044]}, 'areaId': 'OE|COLUMBIANA|OHIO|WASHINGTONVILLE|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 301}, {'key': 'Township', 'name': 'ELK RUN TOWNSHIP', 'cust_a': {'val': 0}, 'cust_s': 840, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.74691419899995, 40.72648728400003, -80.63192255499996, 40.81330775400005]}, 'areaId': 'OE|COLUMBIANA|OHIO|ELK RUN TOWNSHIP|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 302}, {'key': 'Township', 'name': 'COLUMBIANA', 'cust_a': {'val': 0}, 'cust_s': 178, 'percent_cust_a': {'val': 0.0}, 'etr': None, 'etr_confidence': None, 'gotoMap': {'bbox': [-80.71515562399998, 40.86387616700006, -80.62431900399997, 40.914649868000026]}, 'areaId': 'OE|COLUMBIANA|OHIO|COLUMBIANA|Township', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 303}], 'areaId': 'OE|COLUMBIANA|county', 'n_out': 0, 'county': 'COLUMBIANA', 'state': 'OHIO', 'file_name': 'fd1bf760-8425-4df6-82a2-e05538f7f336_report.json', 'content_index': 13}'''
fop_model_location='/home/hungphd/git/potracker_models/sft/codegemma-7b-it/'

# Step 1: Load model
obj_model=load_fine_tuned_model(fop_model_location)

# Step 2: get answer
str_answer=get_answer(obj_model, str_input)

# Step 3: print answer
print('Answer from model {}:\n{}'.format(fop_model_location,str_answer))